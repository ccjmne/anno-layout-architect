@keyframes breathe {
  0% {
    stroke-width: 2px;
  }

  100% {
    stroke-width: 3px;
  }
}

:host {
  display: grid;
  grid-template: 'buttons' auto 'grid' 1fr;
  line-height: 0;
}

:host,
svg {
  width: 100%;
  height: 100%;
}

svg {
  .axis {
    &.cols,
    &.rows {
      color: $bg-dark;
    }

    &.bottom,
    &.left,
    &.right,
    &.top {
      path {
        display: none;
      }
    }
  }

  .highlight {
    fill: $bg-dark;
  }

  .buildings {
    rect {
      transition: fill 100ms ease-out;
      opacity: .8;
    }
  }

  .outline {
    cursor: pointer;
    #{--colour}: #{$font-colour};

    &[mode=INSPECT] {}

    &[mode=BUILD] {
      #{--colour}: #{$colour-success};

      rect {
        fill-opacity: .3;
      }
    }

    &[mode=DESTROY] {
      #{--colour}: $colour-error;
    }

    &[mode=COPY] {
      #{--colour}: #{$colour-success};
    }

    &[error=true] {
      cursor: not-allowed;
      #{--colour}: $colour-error;
    }

    rect {
      transition: stroke $duration-snap, fill $duration-snap;
      animation: breathe $duration-slow alternate infinite ease-in-out;
      stroke-width: 2px;
      stroke: var(--colour);
      fill: var(--colour);
      fill-opacity: 0;
    }
  }

  text {
    user-select: none;
  }
}
